!function(a){a.fileValidator=function(b){var c=[],d=b.onInvalid;for(var e in a.fileValidator.validations)b[e]&&c.push(a.fileValidator.validations[e](b[e],d));return function(a){for(var b=0,d=c.length;b<d;b++)c[b].call(this,a)}},a.fileValidator.validations={maxSize:function(b,c){return"string"==typeof b&&(b=a.fileValidator.sizeToBytes(b)),function(a){a.size>b&&c.call(this,"maxSize",a)}},type:function(a,b){var c;return c="function"==typeof a?a:a.constructor===RegExp?function(b){return b.match(a)}:function(b){return~b.indexOf(a)},function(a){c(a.type)||b.call(this,"type",a)}}},a.fn.fileValidator=function(b){var c=a.extend({maxSize:null,type:null,onValidation:a.fileValidator.doNothing,onInvalid:a.fileValidator.doNothing},b);return this.each(function(){var b=a(this),d=a.fileValidator(a.extend({},c,b.data()));b.bind("change",function(a){var b=this.files||[];c.onValidation.call(this,b);for(var e=0,f=b.length;e<f;e++)d.call(this,b[e])})})},a.fileValidator.doNothing=function(){},a.fileValidator.sizeToBytes=function(b){var c=1;return~b.indexOf("k")?c=1024:~b.indexOf("m")?c=1048576:~b.indexOf("g")&&(c=1073741824),parseInt(b,10)*c}}(jQuery);